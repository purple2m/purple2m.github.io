{% assign page = page.url | split: "/" %}

<script src="{{ base.url | prepend: site.url }}/assets/ncapi.js?version=20221130"></script>
<section class="list-wrapper">
    <h1>
    {% if page[1] == "jp" %}
      アイテムリスト
    {% elsif page[1] == "tw" %}
      物品的種類
    {% elsif page[1] == "ru" %}
      О предметах
    {% else %}
      아이템 목록
    {% endif %}
    </h1>
    <span class="item_type_view" style="display: none;"></span>
    <span class="item_type_view" style="display: none;"></span>
    <ul class="item_type_list item_list">
      {% for item_type in site.data.item_list.type %}
        <li>
          {% if page[1] == "jp" %}
            {{ item_type.jp }}
          {% elsif page[1] == "tw" %}
            {{ item_type.tw }}
          {% else %}
            {{ item_type.ko }}
          {% endif %}
        </li>
      {% endfor %}
    </ul>
    <ul class="item_armor_list item_list item_sub" style="display:none;">
      {% for item_armor in site.data.item_list.armor %}
        <li>
          {% if page[1] == "jp" %}
            {{ item_armor.jp }}
          {% elsif page[1] == "tw" %}
            {{ item_armor.tw }}
          {% else %}
            {{ item_armor.ko }}
          {% endif %}
          </a>
        </li>
      {% endfor %}
    </ul>
    <ul class="item_acc_list item_list item_sub" style="display:none;">
      {% for item_acc in site.data.item_list.acc %}
        <li>
          {% if page[1] == "jp" %}
            {{ item_acc.jp }}
          {% elsif page[1] == "tw" %}
            {{ item_acc.tw }}
          {% else %}
            {{ item_acc.ko }}
          {% endif %}
        </li>
      {% endfor %}
    </ul>
    <ul class="item_class_list item_list item_sub" style="display:none;">
      {% for item_class in site.data.item_list.class %}
        <li>
          {% if page[1] == "jp" %}
            {{ item_class.jp }}
          {% elsif page[1] == "tw" %}
            {{ item_class.tw }}
          {% else %}
            {{ item_class.ko }}
          {% endif %}
        </li>
      {% endfor %}
    </ul>
    <script>
    var click_type = $('.item_type_list').children();
    click_type.click(function () {
      var indexno = $(this).index();
      if(indexno === 0){
        $('.item_class_list').show();
        $('.item_armor_list').hide();
        $('.item_acc_list').hide();
      } else if(indexno === 1){
        $('.item_class_list').hide();
        $('.item_armor_list').show();
        $('.item_acc_list').hide();
      } else if(indexno === 2){
        $('.item_class_list').hide();
        $('.item_armor_list').hide();
        $('.item_acc_list').show();
      } else if(indexno === 3){
        $('.item_class_list').show();
        $('.item_armor_list').hide();
        $('.item_acc_list').hide();
      }
      $(this).css('color', 'rgba(255, 255, 255, 0.83)');
      $('.item_type_list').children().not(this).css('color', '#757981');
      $('.item_type_view').eq(0).text(indexno);
      $('.item_type_view').eq(1).text('');
    });

    var click_type2 = $('.item_sub').children();
    click_type2.click(function () {
      var indexno = $(this).index();
      $(this).css('color', 'rgba(255, 255, 255, 0.83)');
      $('.item_sub').children().not(this).css('color', '#757981');
      $('.item_type_view').eq(1).text(indexno);
      item_list_view();
    });
    

    function item_list_view(){
      var list1 = $('.item_type_view').eq(0).text();
      if(list1 == 1){
        list1 = "armor";
      } else if(list1 == 2){
        list1 = "accessary";
      } else if(list1 == 3){
        list1 = "skill";
      } else {
        list1 = "weapone";
      }
      
      var list2 = $('.item_type_view').eq(1).text();
      if(list1 != "skill"){
        if(list2 == 0){
          list2 = "01";
        }else if(list2 == 1){
          list2 = "02";
        }else if(list2 == 2){
          list2 = "03";
        }else if(list2 == 3){
          list2 = "04";
        }else if(list2 == 4){
          list2 = "05";
        }else if(list2 == 5){
          list2 = "06";
        }else if(list2 == 6){
          list2 = "07";
        }else if(list2 == 7){
          list2 = "08";
        }else if(list2 == 8){
          list2 = "09";
        }else if(list2 == 9){
          list2 = "10";
        }else if(list2 == 10){
          list2 = "11";
        }else if(list2 == 11){
          list2 = "12";
        }
      }else{
        if(list2 == 0){
          list2 = "031";
        }else if(list2 == 1){
          list2 = "032";
        }else if(list2 == 2){
          list2 = "033";
        }else if(list2 == 3){
          list2 = "034";
        }else if(list2 == 4){
          list2 = "035";
        }else if(list2 == 5){
          list2 = "036";
        }else if(list2 == 6){
          list2 = "037";
        }else if(list2 == 7){
          list2 = "038";
        }else if(list2 == 8){
          list2 = "039";
        }else if(list2 == 9){
          list2 = "320";
        }else if(list2 == 10){
          list2 = "321";
        }else if(list2 == 11){
          list2 = "329";
        }
      }

      $.getJSON(baseurl+"/item/"+list1+"_"+list2+".json?version=20220801", function(data) {
        var lng = $(location).attr('pathname');
        lng = lng.split('/');
        lng = lng[1];
        
        var find = '';
        for (var i=0; i < data.length;++i){
          find += "<li>";
          find += "<a href=\"https://purple2m.github.io/"+lng+"/alchemist/?item="+data[i]['id']+"\">";
          find += "<img class=\"thumb\" src=\"https://assets.playnccdn.com/gamedata/powerbook/l2m/icon/Icon_128/Item/Icon_"+data[i]['icon']+"\" onerror=\"this.src='https://wstatic-cdn.plaync.com/plaync/gameinfo/img/thumb-lineage2m.png';\">";
          if(lng == "jp"){
            find += data[i]['jp'];
          } else {
            find += data[i]['ko'];
          }
          find += "</a></li>";
        }
        if (find){
          $('.items').eq(0).children().html(find);
        }
      });
    }
    </script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3351244032029642"
  crossorigin="anonymous"></script>
  <!-- 디스플레이 -->
  <ins class="adsbygoogle"
  style="display:block"
  data-ad-client="ca-pub-3351244032029642"
  data-ad-slot="4741807780"
  data-ad-format="auto"
  data-full-width-responsive="true"></ins>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
  <div class="list" lang="{{ page[1] }}">
    <article class="items">
      <ul>
        <li>
          <img class="thumb" src="https://wstatic-cdn.plaync.com/plaync/gameinfo/img/thumb-lineage2m.png"">
          {% if page[1] == "jp" %}
            アイテム分類を選択してください。
          {% elsif page[1] == "tw" %}
            請選擇單品分類。
          {% else %}
            아이템 분류를 선택해주세요
          {% endif %}
          
        </li>
      </ul>
    </article>
  </div>

</<section>
